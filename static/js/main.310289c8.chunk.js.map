{"version":3,"sources":["context/userContext.ts","context/systemsContext.ts","context/userCredContext.ts","components/spacemap/styling/SpaceMap.ts","context/stateContext.ts","components/spacemap/Wormhole.tsx","components/spacemap/Celestial.tsx","hooks/useWindowDimensions.ts","components/spacemap/styling/chevron-bar-down.svg","components/spacemap/styling/chevron-bar-up.svg","components/spacemap/CelestialData.tsx","components/spacemap/SpaceMap.tsx","components/spacemap/SystemsManager.tsx","scripts/RegExp.ts","components/navbar/UserCredentials.tsx","components/navbar/SelectSystem.tsx","components/navbar/Ships.tsx","components/navbar/Locations.tsx","components/navbar/NavBar.tsx","components/money/Money.tsx","hooks/storageHooks.ts","Main.tsx","reportWebVitals.ts","index.tsx"],"names":["userContext","createContext","user","username","credits","loans","ships","updateUser","props","systemsContext","systems","systemSelected","updateSystems","selectSystem","userCredContext","userCred","token","updateUserCred","prop","colors","scale","stateContext","Color","Vector3","FrontSide","AdditiveBlending","state","set","name","functionName","value","Celestial","mesh","useRef","useState","setHover","active","setActive","useContext","setCelestialActive","useEffect","loc","symbol","_c","type","_s","ref","onClick","event","x","pageX","y","pageY","onPointerOver","onPointerOut","args","attach","roughness","color","getWindowDimensions","window","width","innerWidth","height","innerHeight","CelestialData","position","setPosition","shown","setShown","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","setCelestialDataActive","setCelestialDataPosition","animate","useSpring","opacity","reset","delay","reverse","overflow","maxHeight","from","style","zIndex","onDrag","e","handle","bounds","top","right","current","offsetWidth","bottom","offsetHeight","left","className","id","String","src","UpArrow","alt","DownArrow","div","allowsConstruction","SpaceMap","CelestialDatas","system","locations","map","index","Celestials","ForwardCanvas","children","linear","camera","fov","Provider","Stars","radius","factor","count","SystemsManager","Systems","getErrorCode","string","start","search","slice","spaceTraders","SpaceTraders","UserCredentials","setUser","toke","setToke","showToke","setShowToke","init","setInit","maxWidth","defaultValue","htmlFor","onChange","target","placeholder","disabled","title","then","res","console","log","catch","message","alert","SelectSystem","systemsList","Ships","ship","location","maxCargo","spaceAvailable","speed","plating","weapons","Loc","float","Locations","NavBar","Money","Consumer","useLocalStorage","t","JSON","parse","localStorage","getItem","getLocalStorage","setItem","stringify","useSessionStorage","sessionStorage","getSessionStorage","Main","useCookies","cookies","setCookie","session","setUserCred","AuthenticationError","setSystems","getAccount","listSystems","path","maxAge","setInterval","stateCurrent","setStateCurrent","_","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.310289c8.chunk.js","sourcesContent":["import { createContext } from \"react\"; \r\nimport { User } from \"spacetraders-sdk/dist/types\";\r\n\r\nexport const userDefault: User = {\r\n  username: \"\",\r\n  credits: 0,\r\n  loans: [],\r\n  ships: [],\r\n}\r\n\r\nexport const userContext = createContext({\r\n  user: userDefault,\r\n  updateUser: (props: any) => {},\r\n})","import { createContext } from \"react\"; \r\nimport { SystemsResponse, System } from \"spacetraders-sdk/dist/types\";\r\n\r\nexport const systemsDefault: SystemsResponse = {\r\n  systems: []\r\n}\r\n\r\nexport const systemSelectedDefault: number = 0\r\n\r\nexport const systemsContext = createContext({\r\n  systems: systemsDefault,\r\n  systemSelected: systemSelectedDefault,\r\n  updateSystems: (props: any) => {},\r\n  selectSystem: (props: any) => {},\r\n})","import { createContext } from \"react\"\r\nimport { UserCred } from \"../types\"\r\n\r\nexport const userCredDefault: UserCred = {\r\n  username: '',\r\n  token: '',\r\n}\r\n\r\nexport const userCredContext = createContext({\r\n  userCred: userCredDefault,\r\n  updateUserCred: (prop: UserCred) => {},\r\n})","export const colors: object = {\r\n  'ASTEROID': \"hsl(0, 0%, 75%)\",\r\n  'MOON': \"hsl(0, 0%, 41%)\",\r\n  'PLANET': \"hsl(116, 53%, 30%)\",\r\n  'GAS_GIANT': \"hsl(180, 100%, 50%)\",\r\n  'WORMHOLE': \"rgb(255, 255, 255)\",\r\n}\r\n\r\nexport const scale: object = {\r\n  'ASTEROID': 1,\r\n  'MOON': 1,\r\n  'PLANET': 2,\r\n  'GAS_GIANT': 5,\r\n  'WORMHOLE': 7.5,\r\n}","import { createContext } from \"react\"\r\n\r\nconst _: Record<string, Record<string, any>> = {}\r\n\r\nexport const stateContext = createContext({\r\n  state: _,\r\n  set: (name: string, functionName: string , value: any) => {},\r\n})","import { useEffect, useRef } from \"react\"\r\nimport { useFrame } from \"@react-three/fiber\"\r\nimport { Vector3, Mesh, FrontSide, AdditiveBlending, BackSide, Color } from \"three\"\r\n\r\n\r\n//https://onion2k.github.io/r3f-by-example/#effects\r\n//http://stemkoski.github.io/Three.js/Shader-Glow.html\r\nconst GlowShaderMaterial = {\r\n\tuniforms:\r\n\t{\r\n\t\t\"c\": { type: \"f\", value: .5 },\r\n\t\t\"p\": { type: \"f\", value: 2 },\r\n\t\tglowColor: { type: \"c\", value: new Color(0xE7E0CC) },\r\n\t\tviewVector: { type: \"v3\", value: new Vector3(0, 0, 0) },\r\n\t},\r\n  vertexShader: `\r\n\t\tuniform vec3 viewVector;\r\n\t\tuniform float c;\r\n\t\tuniform float p;\r\n\t\tvarying float intensity;\r\n\t\tvoid main() \r\n\t\t{\r\n\t\t\tvec3 vNormal = normalize( normalMatrix * normal );\r\n\t\t\tvec3 vNormel = normalize( normalMatrix * viewVector );\r\n\t\t\tintensity = pow( c - dot(vNormal, vNormel), p );\r\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\t\t}\r\n  `,\r\n  fragmentShader: `\r\n\t\tuniform vec3 glowColor;\r\n\t\tvarying float intensity;\r\n\t\tvoid main() \r\n\t\t{\r\n\t\t\tvec3 glow = glowColor * intensity;\r\n\t\t\tgl_FragColor = vec4( glow, 1.0 );\r\n\t\t}\r\n  `,\r\n\tside: FrontSide,\r\n\tblending: AdditiveBlending,\r\n\ttransparent: true\r\n};\r\n\r\n\r\nconst Wormhole = (props: any) => {\r\n\tconst glow = useRef<Mesh>(null!)\r\n\tconst disk = useRef<Mesh>(null!)\r\n\tconst diskglow = useRef<Mesh>(null!)\r\n\t\r\n\tuseFrame(({ camera }) => {\r\n\t\t//disk.current.rotation.x += .1\r\n\t\tconst viewVector = new Vector3().subVectors(camera.position, new Vector3());\r\n\t\t// @ts-ignore: idk it worked in the demo\r\n\t\tglow.current.material.uniforms.viewVector.value = viewVector;\r\n\t\t// @ts-ignore: ditto\r\n\t\t// diskglow.current.material.uniforms.viewVector.value = viewVector;\r\n\t\t// diskglow.current.rotation.z += .1\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\t// @ts-ignore: UNIFORMS totally does exit on this\r\n\t\tglow.current.material.uniforms[\"c\"] = {type: \"f\", value: .7}\r\n\t\t// @ts-ignore: ditto\r\n\t\tglow.current.material.uniforms[\"p\"] = {type: \"f\", value: 5}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<pointLight\r\n\t\t\t\t{...props}\r\n\t\t\t\tintensity = {.25}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* Blackhole */}\r\n\t\t\t<mesh\r\n\t\t\t\t{...props}\r\n\t\t\t>\r\n\t\t\t\t<sphereGeometry args={[2, 32, 32]} />\r\n\t\t\t\t<meshStandardMaterial attach=\"material\" roughness={0.5} color={'rgb(0,0,0)'} />\r\n\t\t\t</mesh>\r\n\r\n\t\t\t{/* Glow */}\r\n\t\t\t<mesh\r\n\t\t\t\t{...props}\r\n\t\t\t\tref={glow}\r\n\t\t\t>\r\n\t\t\t\t<sphereGeometry args={[6, 32, 32]} />\r\n\t\t\t\t<shaderMaterial\r\n\t\t\t\t\tattach=\"material\"\r\n\t\t\t\t\targs={[GlowShaderMaterial]}\r\n\t\t\t\t\tside={BackSide}\r\n\t\t\t\t\tblending={AdditiveBlending}\r\n\t\t\t\t\ttransparent={true}\r\n\t\t\t\t/>\r\n\t\t\t</mesh>\r\n\r\n\t\t\t{/* Disk */}\r\n\t\t\t{/* <mesh\r\n\t\t\t\t{...props}\r\n\t\t\t\tref={disk}\r\n\t\t\t\trotation={[1.5, 0, 0]}\r\n\t\t\t\tscale={[1.01, 1, 1]}\r\n\t\t\t>\r\n\t\t\t\t<cylinderGeometry args={[12, 12, .1, 32]}/>\r\n\t\t\t\t<meshStandardMaterial attach=\"material\" roughness={0.5} color={'rgb(255,229,146)'} />\r\n\t\t\t</mesh> */}\r\n\r\n\t\t\t{/* Disk Glow */}\r\n\r\n\t\t\t{/* <mesh\r\n\t\t\t\t{...props}\r\n\t\t\t\tref={diskglow}\r\n\t\t\t\trotation={[-.7, 0, 0]}\r\n\t\t\t\tscale={1}\r\n\t\t\t>\r\n\t\t\t\t<torusGeometry args={[12, 4, 32, 100]}/>\r\n\t\t\t\t<shaderMaterial\r\n\t\t\t\t\tattach=\"material\"\r\n\t\t\t\t\targs={[GlowShaderMaterial]}\r\n\t\t\t\t\tside={BackSide}\r\n\t\t\t\t\tblending={AdditiveBlending}\r\n\t\t\t\t\ttransparent={true}\r\n\t\t\t\t/>\r\n\t\t\t</mesh>*/}\r\n\t\t</> \r\n\t)\r\n}\r\n\r\nexport default Wormhole","import { useState, useRef, useContext, useEffect } from \"react\"\r\nimport { colors, scale } from \"./styling/SpaceMap\"\r\nimport * as THREE from 'three'\r\nimport Wormhole from \"./Wormhole\"\r\nimport { stateContext } from \"../../context/stateContext\"\r\nimport { position } from \"../../types\"\r\n\r\nconst Celestial = (props: any) => {\r\n  const mesh = useRef<THREE.Mesh>(null!)\r\n  const [hovered, setHover] = useState<boolean>(false)\r\n  const [active, setActive] = useState<boolean>(false)\r\n\r\n  const { state, set } = useContext(stateContext)\r\n\r\n  const setCelestialActive: any = (value: boolean | null) => {if (value===null) {return active} else {setActive(value); return null}}\r\n\r\n  //So we only set this once, rather than upon each rerender\r\n  useEffect(() => {\r\n    set(props.loc.symbol, \"setCelestialActive\", setCelestialActive)\r\n  }, [])\r\n\r\n  //useFrame(() => (mesh.current.rotation.x = mesh.current.rotation.y += 0.01))\r\n\r\n  // @ts-ignore: i can not be assed to interface and type just for colors\r\n  const _c: any = colors[props.type] ?? \"rgb(255,255,255)\"\r\n  // @ts-ignore: ditto\r\n  const _s: number = scale[props.type] ?? 1\r\n\r\n  return false ? ( //props.type===\"WORMHOLE\"\r\n    <Wormhole position={props.position} />\r\n  ) : (\r\n    <mesh\r\n      {...props}\r\n      ref={mesh}\r\n      scale={active ? 1.5 * _s : _s}\r\n      onClick={(event) => {\r\n        state[props.loc.symbol]['setLocationActive'](!active)\r\n        state[props.loc.symbol]['setCelestialActive'](!active)\r\n        state[props.loc.symbol]['setCelestialDataActive'](!active)\r\n        state[props.loc.symbol]['setCelestialDataPosition']({x: event.pageX, y: event.pageY} as position)\r\n        setActive(!active)\r\n      }}\r\n      onPointerOver={(event) => {\r\n        setHover(true)\r\n      }}\r\n      onPointerOut={(event) => setHover(false)}\r\n    >\r\n      <sphereGeometry args={[1, 32, 32]} />\r\n      <meshStandardMaterial attach=\"material\" roughness={0.5} color={_c} />\r\n    </mesh>\r\n  )\r\n}\r\n\r\nexport default Celestial","//yoinked: https://stackoverflow.com/questions/36862334/get-viewport-window-height-in-reactjs\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(\r\n    getWindowDimensions()\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}","export default __webpack_public_path__ + \"static/media/chevron-bar-down.9fce45e6.svg\";","export default __webpack_public_path__ + \"static/media/chevron-bar-up.6e25079b.svg\";","import { useState, useContext, useEffect, useRef } from \"react\"\r\nimport useWindowDimensions from \"../../hooks/useWindowDimensions\"\r\nimport Draggable from \"react-draggable\"\r\nimport { animated, useSpring } from \"react-spring\"\r\nimport { stateContext } from \"../../context/stateContext\"\r\nimport { position } from \"../../types\"\r\n\r\nimport \"./styling/CelestialData.scss\"\r\nimport DownArrow from \"./styling/chevron-bar-down.svg\"\r\nimport UpArrow from \"./styling/chevron-bar-up.svg\"\r\n\r\nconst CelestialData = (props: any) => {\r\n  const [active, setActive] = useState<boolean>(false)\r\n  const [position, setPosition] = useState<position>({x: 0, y: 0})\r\n  const [shown, setShown] = useState<boolean>(false)\r\n  const { height, width } = useWindowDimensions()\r\n\r\n  const onControlledDrag = (e: any, position: position) => {const {x, y} = position; setPosition({x, y});};\r\n\r\n  const setCelestialDataActive: any = (value: boolean | null) => {if (value===null) {return active} else {setActive(value); return null}}\r\n  const setCelestialDataPosition: any = (value: position | null) => {if (value===null) {return position} else {setPosition(value); return null}}\r\n  const { state, set } = useContext(stateContext)\r\n  useEffect(() => {\r\n    set(props.loc.symbol, \"setCelestialDataActive\", setCelestialDataActive)\r\n    set(props.loc.symbol, \"setCelestialDataPosition\", setCelestialDataPosition)\r\n  }, [])\r\n\r\n  const animate = useSpring({\r\n    opacity: 1,\r\n    reset: false,\r\n    delay: 0,\r\n    reverse: shown,\r\n    overflow: 'hidden',\r\n    maxHeight: '0em',\r\n    from: { maxHeight: '30em'},\r\n  })\r\n  \r\n  const style = {\r\n    zIndex: active ? 10 : -20,\r\n    opacity: active ? 1 : 0,\r\n  }\r\n\r\n  const ref = useRef<HTMLDivElement>(null!)\r\n  return (\r\n    <Draggable \r\n      position={position} \r\n      onDrag={onControlledDrag}\r\n      handle=\"span\"\r\n      bounds={{\r\n        top: 0,\r\n        right: width - ref?.current?.offsetWidth,\r\n        bottom: height - ref?.current?.offsetHeight,\r\n        left: 0,\r\n      }}\r\n    >\r\n      <div\r\n        ref={ref}\r\n        className=\"celestialdata-main\"\r\n        id={props.loc.name}\r\n        style={style}\r\n      >\r\n        <div className=\"celestialdata-tab\">\r\n          <span>\r\n            <div\r\n              className=\"celestialdata-name\"\r\n            >\r\n              {String(`[${props.loc.symbol}] ${props.loc.name}`)}\r\n            </div>\r\n          </span>\r\n          <div className=\"celestialdata-navbar\">\r\n            <div\r\n              className=\"celestialdata-mini\"\r\n              onClick={() => {\r\n                setShown(!shown)\r\n              }}\r\n            >\r\n              {shown ? <img src={UpArrow} alt=\"▲\"></img> : <img src={DownArrow} alt=\"▼\"></img>}\r\n            </div>\r\n            <div\r\n              className=\"celestialdata-quit\"\r\n              onClick={() => {\r\n                state[props.loc.symbol]['setLocationActive'](false)\r\n                state[props.loc.symbol]['setCelestialActive'](false)\r\n                setActive(false)\r\n              }}\r\n            >\r\n              X\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <animated.div style={animate}>\r\n          <div className=\"celestialdata-data\">\r\n            <div className=\"celestialdata-doordinates\">{String(`${props.loc.x}, ${props.loc.y}`)}</div>\r\n            <div className=\"celestialdata-construction\">{String(`Build: ${props.loc.allowsConstruction}`)}</div>\r\n          </div>\r\n        </animated.div>\r\n      </div>\r\n    </Draggable>\r\n  )\r\n}\r\n\r\nexport default CelestialData","import { useState, useContext } from \"react\"\r\nimport { Canvas } from \"@react-three/fiber\"\r\nimport { Plane, Stars } from \"@react-three/drei\"\r\nimport Celestial from \"./Celestial\"\r\nimport CelestialData from \"./CelestialData\"\r\nimport { Location } from \"spacetraders-sdk/dist/types\"\r\nimport { systemsContext } from \"../../context/systemsContext\"\r\nimport { stateContext } from \"../../context/stateContext\"\r\n\r\nimport \"./styling/SpaceMap.scss\"\r\n\r\nconst SpaceMap = (props: any) => {\r\n  const { systemSelected } = useContext(systemsContext)\r\n\r\n  const [CelestialDatas, Celestials] = [props.system?.locations?.map((loc: Location, index: number) => {\r\n    const __ = <CelestialData \r\n      key={`${loc.symbol}_DATA`} \r\n      index={index}\r\n      loc={loc}\r\n    />\r\n    return __\r\n  }), props.system?.locations?.map((loc: Location, index: number) => {\r\n    const __ = <Celestial \r\n      key={loc.symbol}\r\n      index={index}\r\n      position={[loc.x, loc.y, 0]}\r\n      name={loc.name}\r\n      type={loc.type}\r\n      loc={loc}\r\n    />\r\n    return __\r\n  })]\r\n\r\n  // FUCK https://github.com/pmndrs/react-three-fiber/issues/262\r\n  function ForwardCanvas({ children }: any) {\r\n    const value = useContext(stateContext)\r\n    return (\r\n      <Canvas linear camera={{ position: [0, 0, 200], fov: 100 }}>\r\n        <stateContext.Provider value={value}>\r\n          {children}\r\n        </stateContext.Provider>\r\n      </Canvas>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className=\"spacemap-main\" \r\n      style={{zIndex: systemSelected===props.index ? -10 : -100}}\r\n    >\r\n      <div className=\"spacemap-canvas\">\r\n        <ForwardCanvas>\r\n          <ambientLight />\r\n          <Plane position={[0, 0, -300]} args={[3000, 3000, 4, 4]}>\r\n            <meshBasicMaterial color=\"black\" />\r\n          </Plane>\r\n          <Stars \r\n            radius={100}\r\n            factor={1}\r\n            count={300}\r\n          />\r\n          {Celestials}\r\n        </ForwardCanvas>\r\n      </div>\r\n      {CelestialDatas}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SpaceMap","import { useContext } from \"react\"\r\nimport { System } from \"spacetraders-sdk/dist/types\"\r\nimport { systemsContext } from \"../../context/systemsContext\"\r\nimport SpaceMap from \"./SpaceMap\"\r\n\r\nconst SystemsManager = () => {\r\n\tconst { systems } = useContext(systemsContext)\r\n\r\n\tconst Systems = systems?.systems.map((system: System, index: number) => {\r\n\t\treturn <SpaceMap key={system.symbol} system={system} index={index}/>\r\n\t})\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t{Systems}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default SystemsManager","export const getErrorCode = (string: String) => {\r\n  const start: number = string.search(/[0-9]{3}/g)\r\n  if (start===-1) return ''\r\n  return string.slice(start)\r\n}","import { useState, useEffect, useContext } from \"react\"\r\nimport { useSpring, animated } from \"react-spring\"\r\nimport { userCredContext } from \"../../context/userCredContext\"\r\nimport { SpaceTraders } from \"spacetraders-sdk\"\r\nimport { getErrorCode } from \"../../scripts/RegExp\"\r\n\r\nconst spaceTraders = new SpaceTraders()\r\n\r\nconst UserCredentials = () => {\r\n  const {userCred, updateUserCred} = useContext(userCredContext)\r\n  const [user, setUser] = useState<string>(userCred?.username ?? '')\r\n  const [toke, setToke] = useState<string>(userCred?.token ?? '')\r\n  const [showToke, setShowToke] = useState<boolean>(false)\r\n  \r\n  const registerUser = () => {\r\n    spaceTraders.init(user)\r\n      .then(res => {\r\n        console.log(res)\r\n        setToke(res)\r\n        updateUserCred({username: `${user}`, token: res})\r\n      })\r\n      .catch(e => {\r\n        console.log(e.message)\r\n        console.log(getErrorCode(e.message))\r\n        if (getErrorCode(e.message)==='409') {\r\n          alert(\"This user is already registered\")\r\n        }\r\n        else throw(e)\r\n      })\r\n  }\r\n\r\n  const [shown, setShown]  = useState<boolean>(false)\r\n  const [init, setInit] = useState<boolean>(false)\r\n  useEffect(()=>{\r\n    setInit(true)\r\n  }, [])\r\n  const animate = useSpring({\r\n    opacity: init ? 1 : 0,\r\n    reset: false,\r\n    delay: 0,\r\n    reverse: !shown,\r\n    overflow: 'hidden',\r\n    maxWidth: init ? '30em' : '0em',\r\n    maxHeight: init ? '30em' : '0em',\r\n    from: { maxWidth: !init ? '30em' : '0em', maxHeight: !init ? '30em' : '0em'},\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <input \r\n        type=\"button\"\r\n        defaultValue={shown ? `${userCred?.username} ▲` : `${userCred?.username} ▼`}\r\n        onClick={()=>{setShown(!shown)}}\r\n      ></input>\r\n      <animated.div style={animate}>\r\n        <label htmlFor=\"user\">Username: </label>\r\n        <input\r\n          className=\"UserCredentials_Text\"\r\n          id=\"user\"\r\n          type=\"text\"\r\n          onChange={(event: any)=>{setUser(event.target.value)}}\r\n          placeholder={user}\r\n        ></input><br />\r\n        <label htmlFor=\"toke\">Token: </label>\r\n        <input\r\n          className=\"UserCredentials_Text\"\r\n          id=\"toke\"\r\n          type={showToke ? \"password\" : \"text\"}\r\n          onChange={(event: any)=>{setToke(event.target.value)}}\r\n          value={toke}\r\n        ></input>\r\n        <input\r\n          className=\"UserCredentials_Button\"\r\n          id=\"toke\"\r\n          type=\"button\"\r\n          value={showToke ? \"Show\" : \"Hide\"}\r\n          onClick={()=>{setShowToke(!showToke)}}\r\n        ></input><br />\r\n        <input\r\n          className=\"UserCredentials_Button\"\r\n          id=\"submit\"\r\n          type=\"button\"\r\n          defaultValue=\"Submit\"\r\n          onClick={()=>{\r\n            updateUserCred({username: `${user}`, token: `${toke}`})\r\n          }}\r\n        ></input>\r\n        <input\r\n          className={toke === \"\" ? \"UserCredentials_Button\" : \"UserCredentials_Button tooltip\"}\r\n          id=\"submit\"\r\n          type=\"button\"\r\n          defaultValue=\"Register User\"\r\n          disabled={toke === \"\" ? (user !== \"\" ? false : true) : true}\r\n          title={user !== \"\" ? (toke === \"\" ? '' : 'Token field must be null') : 'Username cannot be null'}\r\n          onClick={()=>{\r\n            registerUser()\r\n          }}\r\n        ></input>\r\n      </animated.div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserCredentials","import { useState, useContext, useEffect} from \"react\"\r\nimport { systemsContext } from \"../../context/systemsContext\"\r\nimport { animated, useSpring } from \"react-spring\"\r\n\r\nconst SelectSystem = () => {\r\n  const { systems, systemSelected, selectSystem } = useContext(systemsContext)\r\n  \r\n  const [shown, setShown]  = useState<boolean>(false)\r\n  const [init, setInit] = useState<boolean>(false)\r\n  useEffect(()=>{\r\n    setInit(true)\r\n  }, [])\r\n  const animate = useSpring({\r\n    opacity: init ? 1 : 0,\r\n    reset: false,\r\n    delay: 0,\r\n    reverse: !shown,\r\n    overflow: 'hidden',\r\n    maxWidth: init ? '30em' : '0em',\r\n    maxHeight: init ? '30em' : '0em',\r\n    from: { maxWidth: !init ? '30em' : '0em', maxHeight: !init ? '30em' : '0em'},\r\n  })\r\n\r\n  const systemsList = systems?.systems?.map((system: any, index: number) => {\r\n    return (\r\n      <input\r\n        key={system.name}\r\n        className=\"SelectSystem_Button\"\r\n        type=\"Button\"\r\n        defaultValue={system.name}\r\n        onClick={() => {\r\n          selectSystem(index)\r\n        }}\r\n      ></input>\r\n    )\r\n  })\r\n  \r\n  return (\r\n    <div>\r\n    <input\r\n      className=\"SelectSystem_Button\"\r\n      type=\"Button\"\r\n      defaultValue={shown ? `Select System ▲: ${systems?.systems[systemSelected]?.name}` : `Select System ▼: ${systems?.systems[systemSelected]?.name}`}\r\n      onClick={() => {\r\n        setShown(!shown)\r\n      }}\r\n    ></input>\r\n      <animated.div style={animate}>\r\n        {systemsList}\r\n      </animated.div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SelectSystem","import { useContext, useState, useEffect } from \"react\"\r\nimport { userContext } from \"../../context/userContext\"\r\nimport { animated, useSpring } from \"react-spring\"\r\n\r\nimport \"./styling/Ships.scss\"\r\n\r\nconst Ships = (props: any) => {\r\n\r\n  const [shown, setShown] = useState<boolean>(false)\r\n  const [init, setInit] = useState<boolean>(false)\r\n  useEffect(()=>{\r\n    setInit(true)\r\n  }, [])\r\n  const animate = useSpring({\r\n    opacity: init ? 1 : 0,\r\n    reset: false,\r\n    delay: 0,\r\n    reverse: !shown,\r\n    overflow: 'hidden',\r\n    maxWidth: init ? '30em' : '0em',\r\n    maxHeight: init ? '30em' : '0em',\r\n    from: { maxWidth: !init ? '30em' : '0em', maxHeight: !init ? '30em' : '0em'},\r\n  })\r\n\r\n  const {user} = useContext(userContext)\r\n  const ships = user?.ships?.map((ship: any) => {\r\n    return (\r\n      <div className=\"ships-singular\" key={ship.id}>\r\n        ID: {ship.id}<br/>\r\n        Type: {ship.type}<br/>\r\n        Location: {ship.location}<br/>\r\n        {/* X: {ship.x}\r\n        Y: {ship.y} */}\r\n        {/* Cargo: {ship.cargo} */}\r\n        Cargo: {ship.maxCargo - ship.spaceAvailable} / {ship.maxCargo}<br/>\r\n        {/* Class: {ship.class}<br/> */}\r\n        Speed: {ship.speed}<br/>\r\n        Plating: {ship.plating}<br/>\r\n        Weapons: {ship.weapons}<br/>\r\n        {/* Manufacturer: {ship.manufacturer}<br/> */}\r\n      </div>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <div className=\"ships-main\">\r\n      <input\r\n        className=\"ships-button\"\r\n        type=\"button\"\r\n        onClick={() => { \r\n          setShown(!shown)\r\n        }}\r\n        value={shown ? \"Ships ▲\" : \"Ships ▼\"}\r\n      ></input>\r\n      <animated.div style={animate}>\r\n        <div className=\"ships-grid\">\r\n          {ships}\r\n        </div>\r\n      </animated.div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Ships","import { useState, useEffect, useContext } from \"react\"\r\nimport { animated, useSpring } from \"react-spring\"\r\nimport { Location } from \"spacetraders-sdk/dist/types\"\r\nimport { stateContext } from \"../../context/stateContext\"\r\nimport { systemsContext } from \"../../context/systemsContext\"\r\nimport { position } from \"../../types\"\r\n\r\nimport \"./styling/Locations.scss\"\r\n\r\nconst Loc = (props: any) => {\r\n  const [active, setActive] = useState<boolean>(false)\r\n\r\n  const { state, set } = useContext(stateContext)\r\n  useEffect(() => {\r\n    set(props.location.symbol, 'setLocationActive', setActive)\r\n  }, [])\r\n\r\n  return (\r\n    <div key={props.location.symbol}>\r\n      {props.location.name}\r\n      <input\r\n        style={{float: 'right'}}\r\n        type=\"button\"\r\n        value=\"Select\"\r\n        onClick={(event)=>{\r\n          state[props.location.symbol]['setCelestialActive'](!active)\r\n          state[props.location.symbol]['setCelestialDataActive'](!active)\r\n          state[props.location.symbol]['setCelestialDataPosition']({x: event.pageX + 30, y: event.pageY} as position)\r\n          setActive(!active)\r\n        }}\r\n      ></input>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Locations = (props: any) => {\r\n  const { systems, systemSelected } = useContext(systemsContext)\r\n  const [shown, setShown] = useState(false)\r\n\r\n  const [init, setInit] = useState(false)\r\n  useEffect(()=>{\r\n    setInit(true)\r\n  }, [])\r\n  const animate = useSpring({\r\n    opacity: init ? 1 : 0,\r\n    reset: false,\r\n    delay: 0,\r\n    reverse: !shown,\r\n    overflow: 'hidden',\r\n    maxWidth: init ? '30em' : '0em',\r\n    maxHeight: init ? '30em' : '0em',\r\n    from: { maxWidth: !init ? '30em' : '0em', maxHeight: !init ? '30em' : '0em'},\r\n  })\r\n\r\n  const locations = systems?.systems[systemSelected]?.locations.map((location: Location) => {\r\n    return <Loc location={location}/>\r\n  })\r\n\r\n  return (\r\n    <div className=\"Locations_Main\">\r\n      <input\r\n        type=\"button\"\r\n        onClick={() => {  \r\n          setShown(!shown)\r\n        }}\r\n        value={shown ? \"Locations ▲\" : \"Locations ▼\"}\r\n      ></input>\r\n      <animated.div style={animate}>\r\n        {locations}\r\n      </animated.div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Locations","import UserCredentials from \"./UserCredentials\"\r\nimport SelectSystem from \"./SelectSystem\"\r\nimport Ships from \"./Ships\"\r\nimport Locations from \"./Locations\"\r\n\r\nimport \"./styling/NavBar.scss\"\r\n\r\nconst NavBar = () => {\r\n\r\n  return (\r\n    <div className=\"navbar-main\">\r\n      <div className=\"navbar_buttons\">\r\n        <UserCredentials />\r\n        <SelectSystem/>\r\n        <Ships />\r\n        <Locations />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NavBar","import { useState, useEffect } from \"react\"\r\nimport { userContext } from \"../../context/userContext\"\r\nimport { animated, useSpring } from \"react-spring\"\r\n\r\nimport \"./styling/Money.scss\"\r\n\r\nconst Money = () => {\r\n\r\n  const [shown, setShown] = useState<boolean>(false)\r\n  const [init, setInit] = useState<boolean>(false)\r\n  useEffect(()=>{\r\n    setInit(true)\r\n  }, [])\r\n  const animate = useSpring({\r\n    zIndex: 10,\r\n    opacity: init ? 1 : 0,\r\n    reset: false,\r\n    delay: 0,\r\n    reverse: !shown,\r\n    overflow: 'hidden',\r\n    maxWidth: init ? '30em' : '0em',\r\n    maxHeight: init ? '30em' : '0em',\r\n    from: { maxWidth: !init ? '30em' : '0em', maxHeight: !init ? '30em' : '0em'},\r\n  })\r\n\r\n  return (\r\n    <userContext.Consumer>\r\n      {({ user }) => (\r\n        <div className=\"money-main\">\r\n          <div \r\n            className=\"money-credits\"\r\n            onClick={()=>{\r\n              setShown(!shown)\r\n            }}\r\n          >\r\n            Credits: {user?.credits}\r\n          </div>\r\n          <animated.div style={animate}>\r\n            words\r\n          </animated.div>\r\n        </div>\r\n      )}\r\n    </userContext.Consumer>\r\n  )\r\n}\r\n\r\nexport default Money","import { useEffect, useState } from \"react\"\r\n\r\nfunction getLocalStorage<S>(name: string): any {\r\n  // @ts-ignore : JSON.parse only accepts string, but nothing bad happens if null is passed, hence this.\r\n  const _: S = JSON.parse(localStorage.getItem(name))\r\n  return _\r\n}\r\n\r\nexport function useLocalStorage<S>(name: string) {\r\n  const t:[S, React.Dispatch<React.SetStateAction<S>>] = useState(getLocalStorage<S>(name))\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(name, JSON.stringify(t[0]))\r\n  }, [name, t]);\r\n\r\n  return t\r\n}\r\n\r\nfunction getSessionStorage<S>(name: string): any {\r\n  // @ts-ignore : JSON.parse only accepts string, but nothing bad happens if null is passed, hence this.\r\n  const _: S = JSON.parse(sessionStorage.getItem(name))\r\n  return _\r\n}\r\n\r\nexport function useSessionStorage<S>(name: string) {\r\n  const t:[S, React.Dispatch<React.SetStateAction<S>>] = useState(getSessionStorage<S>(name))\r\n\r\n  useEffect(() => {\r\n    sessionStorage.setItem(name, JSON.stringify(t[0]))\r\n  }, [name, t]);\r\n\r\n  return t\r\n}\r\n","import React, { useState, useEffect } from \"react\"\r\n// import { settingsDefault, settingsContext } from \"./context/settingsContext\"\r\n// import settingsInterface from \"./interfaces/settings\"\r\nimport { userContext } from \"./context/userContext\"\r\nimport { systemsContext } from \"./context/systemsContext\"\r\nimport { userCredContext } from \"./context/userCredContext\"\r\n// import systemsInterface from \"./interfaces/systems\"\r\nimport SystemsManager from \"./components/spacemap/SystemsManager\"\r\nimport NavBar from \"./components/navbar/NavBar\"\r\nimport Money from \"./components/money/Money\"\r\nimport { useCookies } from \"react-cookie\"\r\nimport { useLocalStorage, useSessionStorage } from \"./hooks/storageHooks\"\r\nimport { User, SystemsResponse } from \"spacetraders-sdk/dist/types\"\r\nimport { UserCred } from \"./types\"\r\n//import SpaceTradersExtend, { SystemsResponse } from \"./spacetraders/spacetraders\"\r\nimport { SpaceTraders } from \"spacetraders-sdk\"\r\nimport { AuthenticationError } from \"spacetraders-sdk/dist/errors\"\r\nimport { stateContext } from \"./context/stateContext\"\r\n\r\nimport \"./styling/Main.scss\"\r\n\r\nconst spaceTraders = new SpaceTraders()\r\n\r\nconst Main = () => {\r\n  const [cookies, setCookie, removeCookie] = useCookies(['session'])\r\n  const session = cookies.session ?? null\r\n\r\n  const [userCred, setUserCred] = useLocalStorage<UserCred>('user')\r\n  const [userError, setUserError] = useState<boolean>(false)\r\n  try {\r\n    userCred.username && spaceTraders.init(userCred.username, userCred.token)\r\n  } catch (e) {\r\n    //alert(e)\r\n    if (e instanceof AuthenticationError) {\r\n\r\n    }\r\n  }\r\n\r\n  const [user, setUser] = useSessionStorage<User>('user')\r\n  const updateUser = () => {\r\n    userCred && spaceTraders.getAccount()\r\n      .then(res => {\r\n        console.log(res.user)\r\n        setUser(res.user)\r\n      })\r\n  }\r\n\r\n  const [systems, setSystems] = useSessionStorage<SystemsResponse>('systems')\r\n  const updateSystems = (systems: any) => {\r\n    userCred && spaceTraders.listSystems()\r\n      .then(res => {\r\n        console.log(res)\r\n        setSystems(res)\r\n      })\r\n  } \r\n\r\n  const [systemSelected, selectSystem] = useSessionStorage<number>('systemSelected')\r\n\r\n  useEffect(() => {\r\n    if (userCred) {\r\n      if (user===null || session===null) {\r\n        spaceTraders.getAccount().then(res => {\r\n          console.log(res)\r\n          setUser(res.user)\r\n        })\r\n      }\r\n      if (systems===null || session===null) {\r\n        spaceTraders.listSystems().then(res => {\r\n          console.log(res)\r\n          setSystems(res)\r\n        })\r\n      }\r\n    }\r\n    if (session===null) {\r\n      setCookie('session', '', { path: '/ ', maxAge: 900})\r\n      setInterval(() => {setCookie('session', null, { path: '/ ', maxAge: -1})}, 900000)\r\n    }\r\n    if (systemSelected===null) {\r\n      selectSystem(0)\r\n    }\r\n  }, [userCred, systems, user, session])\r\n\r\n  const [stateCurrent, setStateCurrent] = useState<Record<string, Record<string, any>>>({})\r\n  //I pray I never have to attempt to understand the context happening here.\r\n  const sSC = (name: string, functionName: string , value: any) => {\r\n    let _: Record<string, Record<string, any>> = stateCurrent\r\n    _[name] = stateCurrent[name] ?? {}\r\n    _[name][functionName] = value\r\n    setStateCurrent(_)\r\n  }\r\n\r\n  return (\r\n    <userCredContext.Provider value={{userCred: userCred, updateUserCred: setUserCred}}>\r\n    <userContext.Provider value={{user: user, updateUser: updateUser}}>\r\n    <systemsContext.Provider value={{systems: systems, updateSystems: updateSystems, systemSelected: systemSelected, selectSystem: selectSystem}}>\r\n    <stateContext.Provider value={{state: stateCurrent, set: sSC}}>\r\n    <div className=\"main\">\r\n      <SystemsManager />\r\n      <div className=\"main-grid\">\r\n        <NavBar />\r\n        <Money />\r\n      </div>\r\n    </div>\r\n    </stateContext.Provider>\r\n    </systemsContext.Provider>\r\n    </userContext.Provider>\r\n    </userCredContext.Provider>\r\n  )\r\n}\r\n\r\nexport default Main","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './Main';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport './styling/index.scss';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}